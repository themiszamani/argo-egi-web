<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><!-- generated by module html-template-engine --><xsl:output method="html"></xsl:output><xsl:template match="/"><html xmlns:tpl="http://software.in2p3.fr/lavoisier/template.xsd" xmlns:e="http://software.in2p3.fr/lavoisier/entries.xsd"><head><meta charset="UTF-8"></meta><title>ARGO</title><meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"></meta><link href="/resource/css/AdminLTE.css" id="AdminLTEcss" rel="stylesheet"></link><link href="/resource/css/bootstrap.min.css" id="bootstrapsc" rel="stylesheet"></link><link href="/resource/css/font-awesome.css" id="facss" rel="stylesheet"></link><link href="/resource/css/ionicons.min.css" id="ioncss" rel="stylesheet"></link><link href="/resource/css/jquery-ui.css" id="jqcss" rel="stylesheet"></link><link href="/resource/css/bootstrap-timepicker.min.css" id="btcss" rel="stylesheet"></link><link href="/resource/css/daterangepicker-bs3.css" id="daterangecss" rel="stylesheet" type="text/css"></link><link href="/resource/css/multiselect.css" id="multiselectcss" rel="stylesheet" type="text/css"></link><link href="/resource/css/skin-argo.css" id="argoskincss" rel="stylesheet" type="text/css"></link><link href="/resource/css/font-beba.css" id="fontbcss" rel="stylesheet" type="text/css"></link><link href="/resource/css/dataTables.bootstrap.css" id="dataTablesbootstrapcss" rel="stylesheet" type="text/css"></link><link href="/resource/css/jquery.dataTables.min.css" id="jqueryataTablesmins" rel="stylesheet" type="text/css"></link><script id="jqjs" src="/resource/js/jquery.min.js"></script><script id="jquijs" src="/resource/js/jquery-ui-1.10.3.js"></script><script id="bottjs" src="/resource/js/bootstrap.min.js"></script><script id="multiselectjs" src="/resource/js/multiselect.js" type="text/javascript"></script><script id="daterangejs" src="/resource/js/daterangepicker.js" type="text/javascript"></script><script id="appjs" src="/resource/js/app.js"></script><script id="dataTablesjs" src="/resource/js/jquery.dataTables.js"></script><script id="dataTablesbootjs" src="/resource/js/dataTables.bootstrap.js"></script><xsl:comment>&lt;script src="/resource/js/jsapi.js" id="jsapijs"&gt;&lt;/script&gt;</xsl:comment><script id="appscjs" src="/resource/js/scripts.js"></script><link href="/resource/img/favicon.ico" id="favicon" rel="shortcut icon"></link><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65947937-1', 'auto');
    ga('send', 'pageview');

</script></head><aside class="control-sidebar control-sidebar-dark"><div class="tab-content"><h3 class="control-sidebar-heading">Release</h3><ul class="control-sidebar-menu"><li><div class="menu-info"><h4 class="control-sidebar-subheading">version</h4><p>2.1</p></div></li></ul><ul class="control-sidebar-menu"><li><div class="menu-info"><h4 class="control-sidebar-subheading">date</h4><p>2016, September 6th</p></div></li></ul><ul class="control-sidebar-menu"><li><div class="menu-info"><h4 class="control-sidebar-subheading">repository<a href="https://github.com/ARGOeu"><span class="fa fa-github" style="font-size: larger;padding-left: 5px"></span></a></h4></div></li></ul></div></aside>
    <meta charset="UTF-8"></meta>
    <title>ARGO AR REPORTS</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"></meta>

    <body class="skin-blue sidebar-mini">
        <xsl:comment> Right side column. Contains the navbar and content of the page </xsl:comment>
        <div class="wrapper" id="wrapper"><header class="main-header"><xsl:comment> Header Navbar: style can be found in header.less </xsl:comment><nav class="navbar navbar-static-top" role="navigation"><xsl:comment> Sidebar toggle button</xsl:comment><a class="sidebar-toggle" data-toggle="offcanvas" href="#" role="button"><span class="sr-only">Toggle navigation</span></a><a class="navbar-brand" href="/lavoisier" ib="brand"><img alt="Argo" src="/resource/img/logo.png"></img></a><xsl:comment> Navbar Right Menu </xsl:comment><div class="navbar-custom-menu navbar-collapse collapse"><ul class="nav navbar-nav"><xsl:comment> Control Sidebar Toggle Button </xsl:comment><li class="active"><a href="#">ARGO WEB UI</a></li></ul></div></nav></header>

            <aside class="main-sidebar sidebar-offcanvas">

                <section class="sidebar">

                    <ul class="sidebar-menu"><li class="treeview" id="sidebar-menu"><a href="#"><i class="fa fa-dashboard"></i><span>Status</span><i class="fa fa-angle-left pull-right"></i></a><ul class="treeview-menu"><li><a href="http://localhost:8080/lavoisier/status_report-site?accept=html"><i class="fa fa-home"></i> Site Status</a></li><li><a href="http://localhost:8080/lavoisier/status_report-site?report=Cloud&amp;accept=html"><i class="fa fa-cloud"></i> Cloud Status</a></li><li><a href="http://localhost:8080/lavoisier/status_report-site?report=Critical-Fedcloud&amp;accept=html"><i class="fa fa-cloud-upload"></i> Cloud Critical Status</a></li><li><a href="http://localhost:8080/lavoisier/status_report-site?report=OPS-MONITOR-Critical&amp;accept=html"><i class="fa fa-star"></i> Opsmon Status</a></li><li><a href="http://localhost:8080/lavoisier/status_report-form?accept=html"><i class="fa fa-list"></i> Customized Report</a></li></ul></li><li class="treeview" id="sidebar-menu"><a href="#"><i class="fa fa-table"></i><span>Availabilities/Reliabilities</span><i class="fa fa-angle-left pull-right"></i></a><ul class="treeview-menu"><li><a href="http://localhost:8080/lavoisier/ngi_reports?accept=html"><i class="fa fa-globe"></i> NGI Report</a></li><li><a href="http://localhost:8080/lavoisier/site_reports?accept=html"><i class="fa fa-home"></i> Site Report</a></li><li><a href="http://localhost:8080/lavoisier/cloud_reports?accept=html"><i class="fa fa-cloud"></i> Cloud Report</a></li><li><a href="http://localhost:8080/lavoisier/opsmon_reports?accept=html"><i class="fa fa-star"></i> OpsMon Report</a></li><li><a href="http://localhost:8080/lavoisier/report_form?accept=html"><i class="fa fa-list"></i> Customized Report</a></li><li><a href="http://localhost:8080/lavoisier/elixir_report?accept=html"><i class="fa fa-globe"></i> Elixir Report</a></li><li><a href="http://localhost:8080/lavoisier/customFactors?accept=html"><i class="fa fa-th"></i>Availability Treemap</a></li></ul></li><li class="treeview" id="sidebar-menu"><a href="#"><i class="fa fa-cog"></i><span>Administration</span><i class="fa fa-angle-left pull-right"></i></a><ul class="treeview-menu"><li><a href="http://localhost:8080/lavoisier/listProfiles"><i class="fa fa-group"></i> Profile Management</a></li><li><a href="http://localhost:8080/lavoisier/recomputation"><i class="fa fa-mail-forward"></i>Recomputation request</a></li><li><a href="http://localhost:8080/lavoisier/administratorsList"><i class="fa fa-list"></i> Admin List</a></li><li><a href="http://localhost:8080/lavoisier/views?accept=html"><i class="fa fa-lock"></i>Admin Interface</a></li></ul></li><li class="treeview" id="sidebar-menu"><a href="#"><i class="fa fa-comments"></i><span>About ARGO</span><i class="fa fa-angle-left pull-right"></i></a><ul class="treeview-menu"><li><a href="http://localhost:8080/lavoisier"><i class="fa fa-home"></i> Start Page</a></li><li><a href="http://argoeu.github.io"><i class="fa fa-eye"></i>ARGO Web Site</a></li><li><a href="http://argoeu.github.io/overview"><i class="fa fa-book"></i> Documentation</a></li><li><a href="https://github.com/ARGOeu"><i class="fa fa-github-alt"></i> GitHub</a></li><li><a href="mailto:%6da%69lto:%61rgo%2dgg%75%73-suppor%74@gr%6e%65t%2e%67r"><i class="fa fa-envelope"></i>Contact Us</a></li></ul></li>
                        <li class="hidden" style="display: block;height:100px;"><a href="#"><span> </span></a></li>
                        <li class="hidden"><a href="#"><span> </span></a></li>
                        <li class="hidden"><a href="#"><span> </span></a></li>
                        <xsl:for-each select="e:entries/e:entry"><li style="font-size: lighter;background-color: #C7d2e1">
                            <a href="/lavoisier/site_reports?ngi={@key}&amp;report={/e:entries/@report}">  <span>-- <xsl:value-of select="@key"></xsl:value-of> --</span> </a>
                        </li></xsl:for-each>
                    </ul>
                </section>
            </aside>

            <div class="content-wrapper">
                <xsl:comment> Content Header (Page header) </xsl:comment>



                <xsl:comment> Main content </xsl:comment>
                <section class="content" id="content">



                    <section class="content-header" id="content-header">
                        <h1>
                            Availabilities Reliabilities Reports
                            <xsl:choose><xsl:when test="e:entries/@view!=&apos;cloud_reports&apos;"><small>EGI League Report</small></xsl:when><xsl:otherwise><small>EGI Federated Cloud Report</small></xsl:otherwise></xsl:choose>

                            <button class="pull-right btn btn-primary" data-target="#myHelp" data-toggle="modal" type="button">
                                <div class="fa fa-info"></div>
                            </button>



                        </h1>



                        <div aria-hidden="true" aria-labelledby="myModalLabel" class="modal fade" id="myHelp" role="dialog" tabindex="-1">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true"></span></button>
                                        <h3 class="modal-title" id="myModalLabel">Help  <i class="ion ion-clipboard"></i></h3>
                                    </div>
                                    <div class="modal-body">
                                        <p>
                                            <ul>
                                                <li>Availabilities and reliabilities figures for the last 3 months</li>
                                                <li>NGI Reports : Click on the NGI name to access the sites report </li>
                                                <li>Click on the figures of a specific month to access daily results</li>
                                                <li>You can also access to the reports into formats : csv, xml and charts</li>
                                                <li>
                                                    <span class="label label-success" style="margin:4px">Av &lt; 80%</span>
                                                    <span class="label label-danger" style="margin:4px"> Av &gt; 80%</span>
                                                    <span class="label label-success" style="margin:10px">Re &lt; 85%</span>
                                                    <span class="label label-danger" style="margin:4px"> Re &gt; 85%</span>
                                                </li>
                                                <li>For the site reports you have two additional figures : the downtime and unknown status percentage</li>
                                                <br></br>
                                                <li><img alt="legend" src="/resource/img/percentages.png"></img></li>
                                            </ul>
                                        </p>

                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-primary" data-dismiss="modal" type="button">Close</button>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </section>


                    <div class="box box-primary">

                        <div class="box-header">
                            <h3 class="box-title"><xsl:value-of select="/e:entries/@description"></xsl:value-of> - Report Type : <xsl:value-of select="/e:entries/@report"></xsl:value-of> <br></br>
                                <a href="?accept=csv" target="_blank" title="CSV report"><span class="btn btn-primary" style="margin:10px;">CSV</span> </a>
                                <a href="?accept=xml" target="_blank" title="XML report"><span class="btn btn-primary" style="margin:10px">XML</span></a>
                                <xsl:choose><xsl:when test="/e:entries/@view!=&apos;site_reports&apos;"><a href="/lavoisier/render_chart_n?view={/e:entries/@view}&amp;report={/e:entries/@report}&amp;type=availability&amp;ngi=all&amp;accept=html" title="Chart">
                                    <span class="btn btn-primary" style="margin:15px"><i class="fa fa-bar-chart-o"> </i>  AVAILABILITY </span>
                                </a></xsl:when></xsl:choose>

                                <xsl:choose><xsl:when test="/e:entries/@view!=&apos;site_reports&apos;"><a href="/lavoisier/render_chart_n?view={/e:entries/@view}&amp;report={/e:entries/@report}&amp;type=reliability&amp;ngi=all&amp;accept=html" title="Chart">
                                    <span class="btn btn-primary" style="margin:15px"><i class="fa fa-bar-chart-o"> </i> RELIABILITY </span>
                                </a></xsl:when></xsl:choose>


                            </h3>
                        </div>
                    </div>

                    <xsl:comment> case NGI</xsl:comment>


                    <xsl:choose><xsl:when test="/e:entries/e:entry/Ngi"><div>
                        <div class="box box-primary" id="table">
                            <div class="box-header">
                                <h3 class="box-title">Availabilities Reliabilities Table

                                </h3>


                            </div>
                            <div class="box-body table-responsive">
                                <table class="table table-bordered table-hover table-striped" id="dataTable">

                                    <thead>
                                        <tr>
                                            <th>Operations Center</th>


                                            <th>
                                                <xsl:value-of select="/e:entries/@month1"></xsl:value-of>
                                            </th>
                                            <th>
                                                <xsl:value-of select="/e:entries/@month2"></xsl:value-of>
                                            </th>
                                            <th>
                                                <xsl:value-of select="/e:entries/@month3"></xsl:value-of>
                                            </th>

                                        </tr>
                                    </thead>


                                    <tbody>
                                        <xsl:for-each select="/e:entries/e:entry/Ngi[@NGI!=&apos;EGI&apos;]"><tr>


                                            <xsl:choose><xsl:when test="/e:entries/@details"><td class="ngi"><a href="/lavoisier/{/e:entries/@details}?ngi={@NGI}&amp;report={/e:entries/@report}"><xsl:value-of select="@NGI"></xsl:value-of></a></td></xsl:when><xsl:otherwise><td><xsl:value-of select="@NGI"></xsl:value-of></td></xsl:otherwise></xsl:choose>



                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month1]"><td>
                                                <a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month1}-01&amp;end_date={/e:entries/@month2}-01&amp;ngi={@NGI}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>

                                                </a>


                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>



                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month2]"><td>
                                                <a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month2}-01&amp;end_date={/e:entries/@month3}-01&amp;ngi={@NGI}">
                                                    <span class="label avCheck" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="label reCheck" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a>
                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>


                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month3]"><td>
                                                <xsl:choose><xsl:when test="string-length(/e:entries/@month4)&gt;8"><a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month3}-01&amp;end_date={/e:entries/@month4}&amp;ngi={@NGI}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a></xsl:when><xsl:otherwise><a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month3}-01&amp;end_date={concat(/e:entries/@month4),&apos;-01&apos;)}&amp;ngi={@NGI}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a></xsl:otherwise></xsl:choose>




                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>

                                        </tr></xsl:for-each>
                                    </tbody>

                                    <xsl:for-each select="/e:entries/e:entry/Ngi[@NGI=&apos;EGI&apos;]"><tfoot>
                                        <tr>
                                            <th>EGI - Average Values</th>
                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month1]"><td>

                                                <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>


                                            </td></xsl:when><xsl:otherwise><th>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </th></xsl:otherwise></xsl:choose>


                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month2]"><td>

                                                <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>

                                            </td></xsl:when><xsl:otherwise><th>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </th></xsl:otherwise></xsl:choose>


                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month3]"><td>

                                                <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>

                                            </td></xsl:when><xsl:otherwise><th>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </th></xsl:otherwise></xsl:choose>

                                        </tr>
                                    </tfoot></xsl:for-each>
                                </table>

                            </div>
                        </div>

                    </div></xsl:when><xsl:otherwise><div>
                        <xsl:for-each select="/e:entries/e:entry[@key=parent::e:entries/@ngi or parent::e:entries/@ngi=&apos;all&apos;]"><div class="box box-primary">


                            <a name="{@key}"> </a>

                            <div class="box-header">
                                <h3 class="box-title">
                                    <a href="/lavoisier/ngi_reports?report={/e:entries/@report}">EGI </a> &gt;
                                    <xsl:value-of select="@key"></xsl:value-of>
                                </h3>

                            </div>
                            <div class="box-body table-responsive">

                                <a href="/lavoisier/render_chart_n?view={/e:entries/@view}&amp;report={/e:entries/@report}&amp;type=availability&amp;ngi={@key}&amp;accept=html" title="Chart">
                                    <span class="btn btn-primary" style="margin:15px"><i class="fa fa-bar-chart-o"> </i> AVAILABILITY</span>
                                </a>
                                <a href="/lavoisier/render_chart_n?view={/e:entries/@view}&amp;report={/e:entries/@report}&amp;type=reliability&amp;ngi={@key}&amp;accept=html" title="Chart">
                                    <span class="btn btn-primary" style="margin:15px"><i class="fa fa-bar-chart-o"> </i>  RELIABILITY</span>
                                </a>

                                <table class="table table-bordered table-hover table-striped">
                                    <thead>
                                        <tr>
                                            <th class="col-md-4">Site</th>

                                            <th>
                                                <xsl:value-of select="/e:entries/@month1"></xsl:value-of>
                                            </th>
                                            <th>
                                                <xsl:value-of select="/e:entries/@month2"></xsl:value-of>
                                            </th>
                                            <th>
                                                <xsl:value-of select="/e:entries/@month3"></xsl:value-of>
                                            </th>

                                        </tr>
                                    </thead>


                                    <tbody>
                                        <xsl:for-each select="Site"><tr>
                                            <td class="col-md-4"><xsl:value-of select="@site"></xsl:value-of></td>

                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month1]"><td>
                                                <a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month1}-01&amp;end_date={/e:entries/@month2}-01&amp;site={@site}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a>
                                                <span class="pull-right" style="font-size: small;">
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@downtime*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@downtime*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@downtime*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                    <br></br>
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@unknown*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month1]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                </span>

                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>


                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month2]"><td>
                                                <a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month2}-01&amp;end_date={/e:entries/@month3}-01&amp;site={@site}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a>

                                                <span class="pull-right" style="font-size: small;">
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@downtime*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@downtime,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@downtime*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                    <br></br>
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@unknown*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month2]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                </span>
                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>


                                            <xsl:choose><xsl:when test="Availability[@timestamp=ancestor::e:entries/@month3]"><td>
                                                <xsl:choose><xsl:when test="string-length(/e:entries/@month4)&gt;8"><a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month3}-01&amp;end_date={/e:entries/@month4}&amp;site={@site}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a></xsl:when><xsl:otherwise><a href="/lavoisier/{/e:entries/@related_view}?granularity=DAILY&amp;report={/e:entries/@report}&amp;start_date={/e:entries/@month3}-01&amp;end_date={concat(/e:entries/@month4),&apos;-01&apos;)}&amp;site={@site}">
                                                    <span class="avCheck label" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@availability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                    <span class="reCheck label" style="margin-left:10px" title="{format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)}"><xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@reliability,&apos;#.00&apos;)"></xsl:value-of></span>
                                                </a></xsl:otherwise></xsl:choose>


                                                <span class="pull-right" style="font-size: small;">
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@downtime*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@downtime*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="Downtime : {format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@downtime*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@downtime*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                    <br></br>
                                                    <xsl:choose><xsl:when test="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@unknown*100,&apos;#.00&apos;) &gt; 10"><span class="minilabel label label-warning" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:when><xsl:otherwise><span class="minilabel label label-success" title="unknown : {format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@unknown*100,&apos;#.00&apos;)} % ">
                                                        <xsl:value-of select="format-number(Availability[@timestamp=ancestor::e:entries/@month3]/@unknown*100,&apos;#.00&apos;)"></xsl:value-of>
                                                    </span></xsl:otherwise></xsl:choose>

                                                </span>

                                            </td></xsl:when><xsl:otherwise><td>
                                                <span class="avCheck label label-default">N.A</span>
                                                <span class="reCheck label label-default" style="margin-left:10px">N.A</span>

                                            </td></xsl:otherwise></xsl:choose>



                                        </tr></xsl:for-each>
                                    </tbody>


                                </table>
                            </div>


                        </div></xsl:for-each>


                    </div></xsl:otherwise></xsl:choose>





                </section>
                <xsl:comment> /.content </xsl:comment>

            </div>

            <script src="/resource/js/jquery.dataTables.js"></script>
            <script src="/resource/js/dataTables.bootstrap.js"></script>
            <link href="/resource/css/dataTables.bootstrap.css" rel="stylesheet" type="text/css"></link>
            <link href="/resource/css/jquery.dataTables.css" rel="stylesheet" type="text/css"></link>


            <script type="text/javascript">


                $(function () {
                // set the first colors
                $('td').find('span.avCheck.label').each(function () {
                $(this).addClass(getColorClass($(this).attr('title'), 80));
                });

                $('td').find('span.reCheck.label').each(function () {
                $(this).addClass(getColorClass($(this).attr('title'), 85));
                });


                $('td').find('span.avUnknown.label').each(function () {
                $(this).addClass(getColorClass($(this).attr('title'),80));
                });


                $('td').find('span.avDowntime.label').each(function () {
                $(this).addClass(getColorClass($(this).attr('title'),90));
                });


                // set the first colors
                $('td').find('span.badge').each(function () {
                $(this).addClass(getColorClass2($(this).attr('title')));
                });


                $('#dataTable').dataTable({
                "paging":   false
                });


                });


            </script>
            <style>
                span.minilabel
                {
                padding:0 2px 0 2px; ;

                font-size: smaller;
                margin:10px;


                }
            </style>


        </div>
    </body>
</html></xsl:template><xsl:template name="process-token"><xsl:param name="token"></xsl:param><xsl:param name="position"></xsl:param><xsl:param name="last"></xsl:param><xsl:param name="callback"></xsl:param><xsl:choose><xsl:when test="false()"></xsl:when></xsl:choose></xsl:template><xsl:template name="tokenize">
    <xsl:param name="string"></xsl:param>
    <xsl:param name="delimiter"></xsl:param>
    <xsl:param name="callback"></xsl:param>
    <xsl:param name="position">1</xsl:param>
    <xsl:choose>
        <xsl:when test="contains($string, $delimiter)">
            <xsl:call-template name="process-token">
                <xsl:with-param name="token" select="substring-before($string, $delimiter)"></xsl:with-param>
                <xsl:with-param name="position" select="$position"></xsl:with-param>
                <xsl:with-param name="last" select="false()"></xsl:with-param>
                <xsl:with-param name="callback" select="$callback"></xsl:with-param>
            </xsl:call-template>
            <xsl:call-template name="tokenize">
                <xsl:with-param name="string" select="substring-after($string, $delimiter)"></xsl:with-param>
                <xsl:with-param name="delimiter" select="$delimiter"></xsl:with-param>
                <xsl:with-param name="callback" select="$callback"></xsl:with-param>
                <xsl:with-param name="position" select="$position + 1"></xsl:with-param>
            </xsl:call-template>
        </xsl:when>
        <xsl:otherwise>
            <xsl:call-template name="process-token">
                <xsl:with-param name="token" select="$string"></xsl:with-param>
                <xsl:with-param name="position" select="$position"></xsl:with-param>
                <xsl:with-param name="last" select="true()"></xsl:with-param>
                <xsl:with-param name="callback" select="$callback"></xsl:with-param>
            </xsl:call-template>
        </xsl:otherwise>
    </xsl:choose>
</xsl:template><xsl:template match="*" mode="serialize">
    <xsl:param name="indent"><xsl:text>
</xsl:text></xsl:param>
    <xsl:if test="string-length($indent)&gt;1"><xsl:value-of select="$indent"></xsl:value-of></xsl:if>&lt;<xsl:value-of select="name()"></xsl:value-of>
    <xsl:apply-templates mode="serialize" select="@*"></xsl:apply-templates>
    <xsl:choose>
        <xsl:when test="*">&gt;<xsl:text></xsl:text>
            <xsl:apply-templates mode="serialize"><xsl:with-param name="indent" select="concat($indent,&apos;    &apos;)"></xsl:with-param></xsl:apply-templates>
            <xsl:value-of select="$indent"></xsl:value-of>&lt;/<xsl:value-of select="name()"></xsl:value-of>&gt;<xsl:text></xsl:text>
        </xsl:when>
        <xsl:when test="text()|comment()">&gt;<xsl:apply-templates mode="serialize"></xsl:apply-templates>&lt;/<xsl:value-of select="name()"></xsl:value-of>&gt;</xsl:when>
        <xsl:otherwise>/&gt;</xsl:otherwise>
    </xsl:choose>
</xsl:template><xsl:template match="@*" mode="serialize">
    <xsl:text> </xsl:text><xsl:value-of select="name()"></xsl:value-of>="<xsl:value-of select="."></xsl:value-of>"<xsl:text></xsl:text>
</xsl:template><xsl:template match="text()" mode="serialize">
    <xsl:value-of select="normalize-space(.)"></xsl:value-of>
</xsl:template><xsl:template match="comment()" mode="serialize">
    <xsl:comment><xsl:value-of select="."></xsl:value-of></xsl:comment>
</xsl:template></xsl:stylesheet>